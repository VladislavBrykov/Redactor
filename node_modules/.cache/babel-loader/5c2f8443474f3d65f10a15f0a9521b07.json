{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vladislav/Desktop/Redactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vladislav/Desktop/Redactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/vladislav/Desktop/Redactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/vladislav/Desktop/Redactor/src/pages/HolidayPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'; //import './UsersPaje.css';\n//import '../../components/posts/posts.css'\n// import newPost from '../components/new_post';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostIdPage(params) {\n  _s();\n\n  var _this = this;\n\n  // Страница постов\n  var styles = {\n    //Стили для страницы\n    position: 'absolute',\n    top: '-7px',\n    left: '50%',\n    transform: 'translateX(-50%)'\n  };\n  var result;\n  var category;\n  var username;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataFromServer = _useState2[0],\n      setDataFromServer = _useState2[1]; //Используем хук состояния для данных с сервера\n\n\n  var loadData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //Функция с запросом на сервер\n              params = window.location.href; //получаем полную ссылку страницы\n\n              params = params.match(/holidays([^ ]*)/)[1]; //получаем все что идет после /post-id\n\n              params = parseInt(params.replace(/\\D+/g, \"\")); //получаем айди поста со ссылки\n\n              axios.defaults.baseURL = 'http://localhost:3000/api';\n              _context.next = 6;\n              return axios.get(\"http://localhost:3000/api/holiday/\" + params);\n\n            case 6:\n              res = _context.sent;\n              result = res.data.rp;\n              console.log(result);\n              setDataFromServer(result);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles,\n      children: [dataFromServer // И тут выходит мы српвшиваем, если у нас есть что-то в стейте, тогда выводим этот стейт, а если нет, то тогда показываем лоадер !\n      // как то так )\n      ? dataFromServer.map(function (item, index) {\n        return (\n          /*#__PURE__*/\n          // <div class=\"wrap\" id=\"pressed\">\n          //   <h2 class=\"flex\" key={index}>{item.title}</h2>\n          //   <h4 class=\"flex\" key={index}>{item.content}</h4>\n          //   <label>Название</label>\n          // </div>)\n          _jsxDEV(\"div\", {\n            style: styles,\n            class: \"form_auth_block\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form_auth_block_content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"form_auth_block_head_text\",\n                children: item.login\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"form_auth_block_head_text\",\n                children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \", item.headding]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"form_auth_block_head_text\",\n                children: [\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \", item.body]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"form_auth_block_head_text\",\n                children: [\"\\u0414\\u0430\\u0442\\u0430 \", item.date]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n                class: \"form_auth_style\",\n                action: \"#\",\n                method: \"post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, _this)\n        );\n      }) : document.addEventListener('DOMContentLoaded', loadData()) //показать всех пользователей запуск функции при загрузке страници\n      , /*#__PURE__*/_jsxDEV(\"script\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostIdPage, \"CB4/PFJBY+I14NPGU8CPhKvZ4hY=\");\n\n_c = PostIdPage;\nexport default PostIdPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostIdPage\");","map":{"version":3,"sources":["/Users/vladislav/Desktop/Redactor/src/pages/HolidayPage.jsx"],"names":["React","useState","axios","Link","PostIdPage","params","styles","position","top","left","transform","result","category","username","dataFromServer","setDataFromServer","loadData","window","location","href","match","parseInt","replace","defaults","baseURL","get","res","data","rp","console","log","map","item","index","login","headding","body","date","document","addEventListener"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n//import './UsersPaje.css';\n//import '../../components/posts/posts.css'\n// import newPost from '../components/new_post';\n\n\nfunction PostIdPage(params) {// Страница постов\n\n\n  const styles = {//Стили для страницы\n    position: 'absolute',\n    top: '-7px',\n    left: '50%',\n    transform: 'translateX(-50%)',\n  }\n\n  let result;\n  let category;\n  let username;\n\n  const [dataFromServer, setDataFromServer] = useState(null); //Используем хук состояния для данных с сервера\n\n  const loadData = async () => { //Функция с запросом на сервер\n    params = window.location.href; //получаем полную ссылку страницы\n    params = params.match(/holidays([^ ]*)/)[1];   //получаем все что идет после /post-id\n    params = parseInt(params.replace(/\\D+/g, \"\"));  //получаем айди поста со ссылки\n\n    axios.defaults.baseURL = 'http://localhost:3000/api';\n    const res = await axios.get(\"http://localhost:3000/api/holiday/\" + params)\n    result = res.data.rp;\n    console.log(result);\n\n   \n  \n    setDataFromServer(result)\n  }\n\n  return (\n    <div>\n\n      <div style={styles}>\n        {/* Метод для вывода данных из массива */}\n        {/* Ошибка была из-за того что запрос асинхронный, а мы пытали сразу выводить. А изначально стейут у нас null */}\n        {\n          dataFromServer\n            // И тут выходит мы српвшиваем, если у нас есть что-то в стейте, тогда выводим этот стейт, а если нет, то тогда показываем лоадер !\n            // как то так )\n            ? dataFromServer.map((item, index) =>\n              // <div class=\"wrap\" id=\"pressed\">\n              //   <h2 class=\"flex\" key={index}>{item.title}</h2>\n\n              //   <h4 class=\"flex\" key={index}>{item.content}</h4>\n              //   <label>Название</label>\n              // </div>)\n              <div style={styles} class=\"form_auth_block\">\n                <div class=\"form_auth_block_content\">\n                  <p class=\"form_auth_block_head_text\" key={index}>{item.login}</p>\n                  <p class=\"form_auth_block_head_text\" key={index}>Название: {item.headding}</p>\n                  <p class=\"form_auth_block_head_text\" key={index}>Описание: {item.body}</p>\n                  <p class=\"form_auth_block_head_text\" key={index}>Дата {item.date}</p>\n                  <form class=\"form_auth_style\" action=\"#\" method=\"post\">\n                    {/* <label key={index}>{item.id}</label> */}\n                    {/* <label key={index}>{item.username}</label>\n                    <label key={index}>{item.category}</label> */}\n\n                    {/* <button class=\"dislike\"><i class=\"fa fa-thumbs-o-down\" aria-hidden=\"true\">+</i></button>\n                    <button class=\"like\" placeholder=\"-\"><i class=\"fa fa-thumbs-o-up\" aria-hidden=\"true\">-</i></button> */}\n\n                    {/* <label>Вы можете оставить комментарий</label>\n                    <textarea rows=\"1\" cols=\"52\" name=\"textArea\" required></textarea> */}\n                    {/* <button class=\"form_auth_button\" type=\"submit\" name=\"form_auth_submit\" onClick={() => loadData()}><Link to=\"/posts\">Добавить комментарий</Link></button>\n                    <button class=\"form_auth_button\" type=\"submit\" name=\"form_auth_submit\" onClick={() => loadData()}><Link to=\"/posts\">Читать все комментарии</Link></button> */}\n\n                    {/* <button class=\"learnmore\">Читать все комментарии</button> */}\n\n\n\n                  </form>\n                </div>\n              </div>)\n            : document.addEventListener('DOMContentLoaded', loadData()) //показать всех пользователей запуск функции при загрузке страници\n\n        }\n        <script>\n        </script>\n      </div>\n    </div>\n  );\n\n\n\n\n\n}\nexport default PostIdPage;"]},"metadata":{},"sourceType":"module"}
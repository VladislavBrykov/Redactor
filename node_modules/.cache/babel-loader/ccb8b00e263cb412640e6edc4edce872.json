{"ast":null,"code":"import _toConsumableArray from \"/Users/vladislav/Desktop/CalendarIvent-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/vladislav/Desktop/CalendarIvent-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectDestructuringEmpty from \"/Users/vladislav/Desktop/CalendarIvent-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/vladislav/Desktop/CalendarIvent-master/src/pages/Calendar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport CalendarModalWindow from './../components/CalendarModalWindow';\nimport 'react-big-calendar/lib/sass/styles.scss';\nvar localizer = momentLocalizer(moment);\nvar allViews = {\n  month: true,\n  day: true,\n  agenda: true\n};\nexport default _s(function (_ref) {\n  _s();\n\n  _objectDestructuringEmpty(_ref);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpenModal = _useState2[0],\n      isOpenModalChange = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentEvent = _useState4[0],\n      currentEventChange = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allEvents = _useState6[0],\n      allEventsChange = _useState6[1]; // Функция открытия модального окна и установка выбранного ивента\n\n\n  var openModal = function openModal(event) {\n    isOpenModalChange(true);\n    currentEventChange(event);\n  }; // Функция закрытия модального окна и уадление выбранного ивента\n\n\n  var closeModal = function closeModal() {\n    isOpenModalChange(false);\n    currentEventChange(null);\n  }; // Функция для создания ивента\n  // Можно добавить функцию обращения к API для создания ивента в указанном месте\n  // А можно заменить allEventsChange на функцию обращения к API для создания ивента, а потом вызвать функцию получения данных о ивентах\n\n\n  var handleSelectSlot = function handleSelectSlot(_ref2) {\n    var start = _ref2.start,\n        end = _ref2.end;\n    var title = window.prompt('Название нового ивента');\n\n    if (title) {\n      var description = window.prompt('Описание нового ивента');\n      allEventsChange([].concat(_toConsumableArray(allEvents), [{\n        id: allEvents.length + 1,\n        start: start,\n        end: end,\n        title: title,\n        description: description\n      }])); // console.log(id);\n\n      console.log(start);\n      console.log(end);\n      console.log(title);\n      console.log(description);\n    }\n  }; // Функция отслеживания выбора ивента для открытия модального окна\n\n\n  var handleSelectEvent = function handleSelectEvent(event) {\n    return openModal(event);\n  }; // Функция для удаления ивента\n  // Можно сделать также, как и со созданием\n\n\n  var deleteEvent = function deleteEvent(event) {\n    if (window.confirm(\"\\u0412\\u044B \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0438\\u0432\\u0435\\u043D\\u0442 \\\"\".concat(event.title, \"\\\"\"))) {\n      allEventsChange(allEvents.filter(function (v) {\n        return v.id != event.id;\n      }));\n      closeModal();\n    }\n  };\n\n  useEffect(function () {\n    // Здесь должен быть запрос на получение данных о ивентах\n    // После поулчения нужно установить, как сделано ниже, только уже с данными полученными от API\n    allEventsChange([{\n      id: 1,\n      start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 2,\n      start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 4,\n      start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 5,\n      start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 6,\n      start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 7,\n      start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 8,\n      start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }, {\n      id: 9,\n      start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\n      title: 'test event',\n      description: 'This is a test description of an event'\n    }]);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    localizer: localizer,\n    views: allViews,\n    events: allEvents,\n    style: {\n      height: 600\n    },\n    popup: true,\n    selectable: true,\n    onSelectSlot: handleSelectSlot,\n    onSelectEvent: handleSelectEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }), isOpenModal ? /*#__PURE__*/React.createElement(CalendarModalWindow, {\n    closeModal: closeModal,\n    currentEvent: currentEvent,\n    deleteEvent: deleteEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }) : null);\n}, \"SbeyDyJBev0JryAOfsb1QAI9iHo=\");","map":{"version":3,"sources":["/Users/vladislav/Desktop/CalendarIvent-master/src/pages/Calendar.jsx"],"names":["React","useState","useEffect","Calendar","momentLocalizer","moment","CalendarModalWindow","localizer","allViews","month","day","agenda","isOpenModal","isOpenModalChange","currentEvent","currentEventChange","allEvents","allEventsChange","openModal","event","closeModal","handleSelectSlot","start","end","title","window","prompt","description","id","length","console","log","handleSelectEvent","deleteEvent","confirm","filter","v","Date","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\r\nimport moment from 'moment'\r\n\r\nimport CalendarModalWindow from './../components/CalendarModalWindow'\r\n\r\nimport 'react-big-calendar/lib/sass/styles.scss';\r\n\r\nconst localizer = momentLocalizer(moment)\r\nconst allViews = { month: true, day: true, agenda: true }\r\n\r\nexport default ({ }) => {\r\n  const [isOpenModal, isOpenModalChange] = useState(false)\r\n  const [currentEvent, currentEventChange] = useState(null)\r\n  const [allEvents, allEventsChange] = useState([])\r\n\r\n  // Функция открытия модального окна и установка выбранного ивента\r\n  const openModal = (event) => {\r\n    isOpenModalChange(true)\r\n    currentEventChange(event)\r\n  }\r\n\r\n  // Функция закрытия модального окна и уадление выбранного ивента\r\n  const closeModal = () => {\r\n    isOpenModalChange(false)\r\n    currentEventChange(null)\r\n  }\r\n\r\n  // Функция для создания ивента\r\n  // Можно добавить функцию обращения к API для создания ивента в указанном месте\r\n  // А можно заменить allEventsChange на функцию обращения к API для создания ивента, а потом вызвать функцию получения данных о ивентах\r\n  const handleSelectSlot = ({ start, end }) => {\r\n    const title = window.prompt('Название нового ивента')\r\n    if (title) {\r\n      const description = window.prompt('Описание нового ивента')\r\n\r\n      allEventsChange([\r\n        ...allEvents,\r\n        {\r\n          id: allEvents.length + 1,\r\n          start,\r\n          end,\r\n          title,\r\n          description\r\n        },\r\n      ])\r\n     // console.log(id);\r\n      console.log(start);\r\n      console.log(end);\r\n      console.log(title);\r\n      console.log(description);\r\n    }\r\n  }\r\n\r\n  // Функция отслеживания выбора ивента для открытия модального окна\r\n  const handleSelectEvent = (event) => openModal(event)\r\n\r\n  // Функция для удаления ивента\r\n  // Можно сделать также, как и со созданием\r\n  const deleteEvent = (event) => {\r\n\r\n    if (window.confirm(`Вы хотите удалить ивент \"${event.title}\"`)) {\r\n      allEventsChange(allEvents.filter(v => v.id != event.id))\r\n      closeModal()\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // Здесь должен быть запрос на получение данных о ивентах\r\n    // После поулчения нужно установить, как сделано ниже, только уже с данными полученными от API\r\n    allEventsChange([\r\n      {\r\n        id: 1,\r\n        start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 2,\r\n        start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 4,\r\n        start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 5,\r\n        start: new Date('Wed Apr 21 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 27 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 6,\r\n        start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 7,\r\n        start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 8,\r\n        start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n      {\r\n        id: 9,\r\n        start: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        end: new Date('Wed Apr 14 2021 17:31:20 GMT+0300 (Москва, стандартное время'),\r\n        title: 'test event',\r\n        description: 'This is a test description of an event',\r\n      },\r\n    ])\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Calendar\r\n        localizer={localizer}\r\n        views={allViews}\r\n        events={allEvents}\r\n        style={{ height: 600 }}\r\n        popup\r\n        selectable\r\n        onSelectSlot={handleSelectSlot}\r\n        onSelectEvent={handleSelectEvent}\r\n      />\r\n      {\r\n        isOpenModal\r\n          ? <CalendarModalWindow\r\n            closeModal={closeModal}\r\n            currentEvent={currentEvent}\r\n            deleteEvent={deleteEvent}\r\n          />\r\n          : null\r\n      }\r\n    </div>\r\n  )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}